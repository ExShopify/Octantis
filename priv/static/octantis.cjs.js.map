{
  "version": 3,
  "sources": ["../../assets/js/octantis/index.js"],
  "sourcesContent": ["/* Hooks for Octantais components.\n *\n * @module octantis\n */\n\nconst ShopifyModal = {\n  mounted(){\n    id = this.el.id\n    this.handleEvent(`octantis:modal_show_${id}`, (event) => this.liveSocket.execJS(this.el, this.el.getAttribute(\"data-show\")))\n    this.handleEvent(`octantis:modal_hide_${id}`, (event) => this.liveSocket.execJS(this.el, this.el.getAttribute(\"data-hide\")))\n  }\n}\n\nconst ShopifyAppBridgeModal = {\n  mounted(){\n    id = this.el.id\n    window.addEventListener(`polaris:app_bridge_modal_show_${id}`, e => this.el.show());\n    window.addEventListener(`polaris:app_bridge_modal_hide_${id}`, e => this.el.hide());\n    this.handleEvent(`octantis:app_bridge_modal_show_${id}`, (event) => this.liveSocket.execJS(this.el, this.el.getAttribute(\"data-show\")))\n    this.handleEvent(`octantis:app_bridge_modal_hide_${id}`, (event) => this.liveSocket.execJS(this.el, this.el.getAttribute(\"data-hide\")))\n  }\n}\n\nconst OctantisInteractable = {\n  mounted(){\n    this.handleEvent(`octantis:interactable_${this.el.id}`,\n      (event) => this.liveSocket.execJS(this.el, this.el.getAttribute(event.key))\n    )\n  }\n}\n\n/* Hooks for Octantais WebComponents.\n *\n * Proxy Polaris WecComponent events to Liveview\n */\n\nconst OctantisEventProxy = {\n   mounted() {\n     // Polaris WebComponents puts its input into a Shadow DOM and Phoenix no longer sees it.\n     // instead we proxy events through a hidden input\n     // See https://shopify.dev/docs/api/app-home/using-polaris-components?accordionItem=event-handling-technical-details\n     proxyEvents = (this.el.getAttribute(\"data-octantis-proxy-events\") || \"\").split(\",\");\n     proxyEvents.forEach((proxyEvent) => {\n       this.el[`on${proxyEvent}`] = (e) => {\n         jsCommand = this.el.getAttribute(`data-octantis-${proxyEvent}`)\n         input_proxy = this.el.nextElementSibling &&\n            this.el.nextElementSibling.tagName == \"INPUT\" &&\n            this.el.nextElementSibling.id == `OctantisHiddenInput${this.el.id}` &&\n            this.el.nextElementSibling\n\n         if (jsCommand) { this.liveSocket.execJS(this.el, jsCommand) }\n         if (input_proxy) {\n           input_proxy.value = e.currentTarget.value\n           input_proxy.dispatchEvent(new Event(proxyEvent, { bubbles: true }))\n         }\n       }\n     })\n   }\n }\n\n/*\nHandles the integration between flash to a Shopify AppBridge Toast\n\nSee ShopAdminComponents.toast\n*/\nconst ShopifyToastHook = {\n  mounted() {\n    shopify.toast.show(this.el.dataset.message, {\n      onDismiss: () => {\n        this.pushEvent(\"lv:clear-flash\", {value: {key: this.el.dataset.kind}})\n      },\n      isError: this.el.dataset.kind == 'error'\n    });\n  },\n  updated() {\n    shopify.toast.show(this.el.dataset.message, {\n      onDismiss: () => {\n        this.pushEvent(\"lv:clear-flash\", {value: {key: this.el.dataset.kind}})\n      },\n      isError: this.el.dataset.kind == 'error'\n    });\n  }\n}\n\nconst AppBridgeNavManu = {\n  mounted(){\n    this.el.addEventListener('click', (event) => {\n      event.preventDefault();\n      this.liveSocket.execJS(this.el, this.el.getAttribute(\"data-nav-event\"));\n    });\n  }\n}\n\nexport { AppBridgeNavManu, OctantisInteractable, ShopifyAppBridgeModal, ShopifyModal, ShopifyToastHook, OctantisEventProxy }\n"],
  "mappings": "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",
  "names": []
}
